---
layout: post
title: "Java中的IO流"
date: 2019-10-18
tag: io流
description: "Java中的IO流"

---

------

<div align="center">
	<img src="/images/posts/IO流//io流继承关系.jpg" />  
</div> 

# **字节流**

## **InputStream**

​		此**抽象类**是表示字节输入流的所有类的超类。

### **FileInputStream**

#### **常用构造方法**

##### **public FileInputStream(File file)**

​		通过打开一个到实际文件的连接来创建一个 FileInputStream，该文件通过文件系统中的 File 对象 file 指定。创建一个新 FileDescriptor 对象来表示此文件连接。

​		file - 为了进行读取而打开的文件。

​		首先，如果有安全管理器，则用 file 参数表示的路径作为参数调用其 checkRead 方法。

​		如果指定文件不存在，或者它是一个目录，而不是一个常规文件，抑或因为其他某些原因而无法打开进行读取，则抛出 FileNotFoundException。

```java
public FileInputStream(File file) throws FileNotFoundException {
    String name = (file != null ? file.getPath() : null);
    SecurityManager security = System.getSecurityManager();
    if (security != null) {
        security.checkRead(name);
    }
    if (name == null) {
        throw new NullPointerException();
    }
    if (file.isInvalid()) {
        throw new FileNotFoundException("Invalid file path");
    }
    fd = new FileDescriptor();
    fd.attach(this);
    path = name;
    open(name);
}
```


##### **public FileInputStream(String name)**

​		通过打开一个到实际文件的连接来创建一个 FileInputStream，该文件通过文件系统中的路径名 name 指定。创建一个新 FileDescriptor 对象来表示此文件连接。

​		name - 与系统有关的文件名。

​		首先，如果有安全管理器，则用 name 作为参数调用其 checkRead 方法。

​		如果指定文件不存在，或者它是一个目录，而不是一个常规文件，抑或因为其他某些原因而无法打开进行读取，则抛出 FileNotFoundException。

```java
public FileInputStream(String name) throws FileNotFoundException {
    //调用构造方法FileInputStream(File file)
    this(name != null ? new File(name) : null);
}
```


#### **常用方法**

##### **public int read()**

​		从此输入流中读取一个数据字节。如果没有输入可用，则此方法将阻塞。

​		该方法返回下一个数据字节；如果已到达文件末尾，则返回 -1。

```java
	FileInputStream fis = new FileInputStream(new File("text.txt"));
	int c = 0;
	while((c = fis.read()) != -1) {
		System.out.print((char)c);
	}
	fis.close();
```


##### **public int read(byte[] b)**

​		从此输入流中将最多 b.length 个字节的数据读入一个字节数组中。在某些输入可用之前，此方法将阻塞。

​		b - 存储读取数据的缓冲区。

​		该方法返回读入缓冲区的字节总数，如果因为已经到达文件末尾而没有更多的数据，则返回 -1。

```java
	FileInputStream fis = new FileInputStream(new File("text.txt"));
	byte[] b = new byte[1024];
	while(fis.read(b) != -1){
		System.out.print(new String(b));
	}
	fis.close();
	//read(b)由read(byte[] b,int off,int len)方法实现
	public int read(byte b[]) throws IOException {
        return readBytes(b, 0, b.length);
    }
```


##### **public int read(byte[] b,int off,int len)**

​		从此输入流中将最多 len 个字节的数据读入一个字节数组中。在某些输入可用之前，此方法将阻塞。

​		b - 存储读取数据的缓冲区。

​		off - 数据的起始偏移量。

​		len - 读取的最大字节数。





BufferedInputStream





OutputStream



FileOutputStream



BufferedOutputStream



字符流




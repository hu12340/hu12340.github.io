---
layout: post
title: "Java中的锁"
date: 2020-06-30 
description: "Java中的锁"
tag: 锁 
---

------

# Java中的锁

​		Java中有很多锁名词：自旋锁 ，自适应自旋锁，阻塞锁，可重入锁 ，读写锁 ，互斥锁 ，悲观锁 ，乐观锁 ，公平锁 ，偏向锁， 对象锁，线程锁，锁粗化， 锁消除，轻量级锁，重量级锁，独享锁，共享锁，分段锁。

## 自旋锁

​		指尝试获取锁的线程不会立即阻塞，而是采用循环的方式去尝试获取锁。好处是减少线程上下文切换的消耗，缺点是循环会消耗CPU。

​		如果锁被占用的时间很短，自旋等待的效果就会非常好，反之，如果锁被占用的时间很长，那么自旋的线程只会白白消耗处理器资源，而不会做任何有用的工作，反而会带来性能上的浪费。

​		JDK1.4.2自旋锁默认是关闭的,可以使用-XX:+UseSpinning参数来开启，JDK1.6默认已经开启，自旋锁等待本身虽然避免了线程切换的开销，但它是要占用处理器时间的。如果自旋锁超过了限定的次数仍然没有成功获得锁，就应当使用传统的方式去挂起线程了，自旋次数的默认是10次，用户可以使用参数-XX:PreBlockSpin=10修改。















































































​		这个是使用github搭建博客所需使用的文章模板，新建文章都可以在此基础上复制并修改。并且博客文章的名字也必须是 yyyy-mm-dd-文章标题 （如：2019-11-01-博客文章模板）

<div align="center">
	<img src="/images/posts/图片路径" />  
</div> 